---
// Google Maps embed component for Aleto location
interface Props {
  class?: string;
  height?: string;
}

const { class: className = "", height = "450" } = Astro.props;

// GPS coordinates: 49.5981017N, 16.9170522E
const latitude = "49.5981017";
const longitude = "16.9170522";
const mapUrl = `https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2595.5!2d${longitude}!3d${latitude}!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDnCsDM1JzUzLjIiTiAxNsKwNTUnMDEuNCJF!5e0!3m2!1scs!2scz!4v1234567890`;
const directionsUrl = `https://maps.google.com/?q=${latitude},${longitude}`;
---

<div class={`google-map-container ${className}`}>
  <div class="map-wrapper" style={`height: ${height}px;`}>
    <iframe
      src={mapUrl}
      width="100%"
      height="100%"
      style="border:0;"
      allowfullscreen=""
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"
      title="Mapa - ALETO autosklo servis, Ochoz u Konice"></iframe>
  </div>
  <div class="map-info mt-4 text-center">
    <p class="mb-2 text-lg font-semibold">ALETO autosklo servis</p>
    <p class="mb-2 text-gray-600 dark:text-gray-300">
      Ochoz u Konice, Czech Republic
    </p>
    <p class="mb-3 text-sm text-gray-500 dark:text-gray-400">
      GPS: {latitude}N, {longitude}E
    </p>
    <a
      href={directionsUrl}
      target="_blank"
      rel="noopener noreferrer"
      class="btn surface-primary inline-flex items-center gap-2"
    >
      <svg
        class="h-5 w-5"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"
        ></path>
      </svg>
      Navigovat na Google Maps
    </a>
  </div>
</div>

<style>
  .map-wrapper {
    border-radius: 0.5rem;
    overflow: hidden;
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }
</style>
